<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Music Slack Status</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="main-container" class="container">
    <!-- Loader -->
    <div id="loader">
      <p>Loading configuration...</p>
    </div>

    <!-- App Setup Instructions -->
    <div id="setup-container" class="hidden">
      <h1>Initial Setup</h1>
      <h2 id="setup-step-title">Let's configure your Slack App credentials.</h2>

      <div id="wizard-container">
        <!-- Step 1: Create App -->
        <div id="step-1" class="setup-step">
          <p>Go to Slack <strong><a href="https://api.slack.com/apps" target="_blank">App Creation</a></strong> >
            <strong>Create an App</strong> > <strong>From scratch</strong></p>
          <div class="navigation-buttons">
            <button class="next-step">Next &rarr;</button>
          </div>
        </div>

        <!-- Step 2: Name App -->
        <div id="step-2" class="setup-step hidden">
          <p>Type <code>Music Slack Status Mac</code> for the App Name and choose your workspace. Click <strong>Create
              App</strong>.</p>
          <div class="navigation-buttons">
            <button class="prev-step">&larr; Previous</button>
            <button class="next-step">Next &rarr;</button>
          </div>
        </div>

        <!-- Step 3: Credentials Form -->
        <div id="step-3" class="setup-step hidden">
          <p>Copy your <strong>App Credentials</strong> into the fields below</p>
          <form id="setupForm">
            <div class="form-group">
              <label for="appId">App ID</label>
              <input type="text" id="appId" name="appId" required>
            </div>
            <div class="form-group">
              <label for="clientId">Client ID</label>
              <input type="text" id="clientId" name="clientId" required>
            </div>
            <div class="form-group">
              <label for="clientSecret">Client Secret</label>
              <input type="password" id="clientSecret" name="clientSecret" required>
            </div>
            <div id="setup-response" class="response"></div>
            <div class="navigation-buttons">
              <button type="button" class="prev-step">&larr; Previous</button>
              <button type="submit">Save and Continue &rarr;</button>
            </div>
          </form>
        </div>

        <!-- Step 4: Redirect URL -->
        <div id="step-4" class="setup-step hidden">
          <p>Go to <a href="#" class="oauth-dynamic-link" target="_blank"><strong>OAuth & Permissions</strong></a> >
            Scroll to <strong>Redirect URLs</strong> > Add <code>https://localhost:5001/oauth/redirect</code> >
            <strong>Save URLs</strong></p>
          <div class="navigation-buttons">
            <button class="prev-step">&larr; Previous</button>
            <button class="next-step">Next &rarr;</button>
          </div>
        </div>

        <!-- Step 5: Scopes -->
        <div id="step-5" class="setup-step hidden">
          <p>Still on <a href="#" class="oauth-dynamic-link" target="_blank"><strong>OAuth & Permissions</strong></a> >
            Scroll to <strong>Scopes</strong> > <strong>User Token Scopes</strong> > <strong>Add an OAuth Scope</strong>
            > Add <code>users.profile:write</code> and <code>users.profile:read</code></p>
          <p>You can close the Slack website now (no need to save)</p>
          <div class="navigation-buttons">
            <button class="prev-step">&larr; Previous</button>
            <button class="next-step">Next &rarr;</button>
          </div>
        </div>

        <!-- Step 6: Authentication -->
        <div id="step-6" class="setup-step hidden">
          <h1>Connect to Slack</h1>
          <h2>Your credentials are saved. Now, connect your account.</h2>
          <a href="#" id="slack-auth-button" class="button button-slack">Add to Slack</a>
          <div class="navigation-buttons">
            <button class="prev-step">&larr; Previous</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Now Playing -->
    <div id="now-playing-container" class="container-sm hidden">
      <h1>Music Slack Status</h1>
      <div class="now-playing-widget">
        <div class="record-container">
          <div id="record" class="record">
            <img id="album-art" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Album Art">
            <div class="record-hole"></div>
          </div>
        </div>
        <div class="track-info">
          <p id="track-title" class="track-title"></p>
          <p id="artist-name" class="artist-name"></p>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="/js/frontend/ts/app.js"></script>
</body>

</html>